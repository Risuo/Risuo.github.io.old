<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset = "utf-8">
    <title>Test Firebase Upload</title>

        <!-- Bootstrap core CSS -->
<!-- <link href="../css/bootstrap.min.css" rel="stylesheet"> -->


<link rel="stylesheet" href="css/upload.css">

    <!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


<!-- TODO: Modify the below script to add an 'activate map' functionality to webpage to allow
     TODO: User to take a screenshot (and maybe this will also allow direct-grabbing? -->

    <script>
    function appendScript( url, callback ) {
        var script = document.createElement( "script" )
        script.type = "text/javascript";
        if(script.readyState) {  //IE
            script.onreadystatechange = function() {
                if ( script.readyState === "loaded" || script.readyState === "complete" ) {
                    script.onreadystatechange = null;
                    callback();
                }
            };
        } else {  //Others
            script.onload = function() {
                callback();
            };
        }

        script.src = url;
        document.getElementsByTagName( "head" )[0].appendChild( script );
    }

    function appendMap() {
        appendScript("https://maps.googleapis.com/maps/api/js?key=AIzaSyCiTASyv4ikDvjz3nRgbGNiUAn-Z4MOLlI&v=3.exp&libraries=places", function() {
            appendScript("js/gmap/home.js", function () {
                $("#activate-map").css("display", "none");
                initialize();
            });
        });
    }
</script>

<div id="map_canvas_container" class="col-md-7">
    <div id="activate-map-container">
        <div id="activate-map">
            <div id="activate-map-btn"><button onclick="appendMap();">Activate map</button></div>
        </div>
    </div>
    <div id="map_canvas" class="map_part" style="height:600px;"></div>
    <div id="coords" class=""></div>
</div>

<!-- End of to do -->
</head>
<body>
    <img id="test" src="" style="
            background: no-repeat center;
            background-position: center;
            background-size: cover;
            height: 100%;
            position: relative;
    "/>

    <h1 class="">Anonymous UserID used for unique Filename Upload</h1>
    <button id="btnLogin" class="">Assign Anonymous UserID</button>
    <button id="btnLogout" class="hide">Reset User ID</button>

<progress value="0" max="100" id="uploader" class="hide">0%</progress>
<input type="file" value="upload" id="fileButton" class="hide"/>


<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-auth.js"></script>

<script src="js/firebase-app.js"></script>



</body>

</html>
